SYSTEM:
You are a conservative portfolio decision agent for a retail trading account.

Your primary objective is capital preservation.
You prefer inaction unless there is a clear, event-driven reason to act.

You manage TWO decisions:
1) Whether to open any NEW positions
2) Whether to change any EXISTING positions

You do NOT predict prices.
You do NOT trade based on opinions or speculation.
You only react to concrete, verifiable events.

POSITION SIZING RULE (mandatory for any new trade):
- Risk at most 1% of total portfolio per new trade
- Formula: shares = floor( (portfolio_value_usd × 0.01) / (entry_price - stop_price) )
- Minimum 1 share; portfolio_value_usd is provided in section 4

EXIT RULE HIERARCHY (non-negotiable, apply in order):
1. HARD STOP     -12% from avg_cost        → CRITICAL: exit immediately, no override
2. ATR STOP      entry - 2×ATR(14)         → HIGH: volatility-adjusted floor, exit
3. TRAILING STOP -8% from position high    → HIGH: lock in gains, exit
4. PROFIT TARGET +20% from entry           → MEDIUM: exit or reduce
5. TIME STOP     20 trading days stagnant  → REVIEW: exit unless clear new catalyst
Exit levels per position are pre-computed in section 4. Use them directly.

USER:
Today is Jan. 15th, 2026, 4:30 PM EST

You are given:

1) CURRENT OPEN POSITIONS (manually entered, may be approximate):
{
    "as_of": "2026-01-23",
    "account": "moomoo_sg",
    "positions": [
        {
            "ticker": "NVDA",
            "direction": "long",
            "shares": 41,
            "avg_cost": 102.17,
            "risk_notes": "Core AI holding, prefer to hold unless thesis clearly broken"
        },
        {
            "ticker": "META",
            "direction": "long",
            "shares": 7,
            "avg_cost": 705.311,
            "risk_notes": "Swing position, OK to reduce before earnings"
        },
        {
            "ticker": "AMD",
            "direction": "long",
            "shares": 7,
            "avg_cost": 27.595,
            "risk_notes": "Swing position, OK to reduce before earnings"
        },
        {
            "ticker": "QQQ",
            "direction": "long",
            "shares": 6.5,
            "avg_cost": 611.063,
            "risk_notes": "Swing position, OK to reduce before earnings"
        },
        {
            "ticker": "TSLA",
            "direction": "long",
            "shares": 11,
            "avg_cost": 266.782,
            "risk_notes": "Swing position, OK to reduce before earnings"
        },
        {
            "ticker": "MCD",
            "direction": "long",
            "shares": 22,
            "avg_cost": 300.347,
            "risk_notes": "Swing position, OK to reduce before earnings"
        },
        {
            "ticker": "CRDO",
            "direction": "long",
            "shares": 2,
            "avg_cost": 100,
            "risk_notes": "Swing position, OK to reduce before earnings"
        },
        {
            "ticker": "IAU",
            "direction": "long",
            "shares": 48,
            "avg_cost": 74.696,
            "risk_notes": "Swing position, OK to reduce before earnings"
        },
        {
            "ticker": "NFLX",
            "direction": "long",
            "shares": 80,
            "avg_cost": 94.89,
            "risk_notes": "Core holding"
        },
        {
            "ticker": "APP",
            "direction": "long",
            "shares": 4,
            "avg_cost": 600,
            "risk_notes": "Swing position, OK to reduce before earnings"
        },
        {
            "ticker": "GOOG",
            "direction": "long",
            "shares": 19,
            "avg_cost": 287.699,
            "risk_notes": "Core holding"
        },
        {
            "ticker": "COIN",
            "direction": "long",
            "shares": 13,
            "avg_cost": 262.654,
            "risk_notes": "Swing position, OK to reduce before earnings"
        },
        {
            "ticker": "MU",
            "direction": "long",
            "shares": 2,
            "avg_cost": 400,
            "risk_notes": "Swing position, OK to reduce before earnings"
        }
    ]
}

2) RECENT, PRE-FILTERED STOCK NEWS (last 72h, watchlist only):
[
  {
    "source": "google_news",
    "title": "Tesla Inc. (TSLA) Barclays Believes Stock is Currently Overvalued with $360 Target Forecast - The Globe and Mail",
    "summary": "Tesla Inc. (TSLA) Barclays Believes Stock is Currently Overvalued with $360 Target Forecast&nbsp;&nbsp;The Globe and Mail",
    "url": "https://news.google.com/rss/articles/CBMigwJBVV95cUxQRXE3UXFnRzZmamZvei16YWFwNFFET0h0Yzh0eHZyaFlkMlFxc2ZIQUVMLXNnNXhwa1ctTlpsTFdqOTRJQTFHWDMtMHdnSHBGTVFIMTRWTU5RX21VSVN3ZzRSNFcwWlFjV1NvZHUzcEQ0elA0ekZRdFprczBPUHl4Q3lhMDEtMUxDeFVBNGd3Mm5sa2VYTV9IcmJwRTQwbjc5enpjd1BwZzFlcG1hbFdManhGc3B1ZENhdFdZVjRKazlzd0VYNEFkNGdCU2hPZHpldkFlZnc5eXBuNGpHRmdleGFObWR1VXFhZ0tXQ2NWSTVSOFJRcXhSMnZzbEU1bGtUdUpB?oc=5",
    "published_at": "2026-01-23T06:24:10+00:00",
    "tickers": [
      "TSLA"
    ],
    "raw_source": "https://news.google.com/rss/search?q=TSLA+stock&hl=en-US&gl=US&ceid=US:en"
  },
  {
    "source": "google_news",
    "title": "Meta Stock Jumps Off Support on Analyst Upgrade, but Is It Enough to Shift Trend? - FXLeaders",
    "summary": "Meta Stock Jumps Off Support on Analyst Upgrade, but Is It Enough to Shift Trend?&nbsp;&nbsp;FXLeaders",
    "url": "https://news.google.com/rss/articles/CBMivwFBVV95cUxNMmdZTHZYX0d5dE1uVEFYRGg5aUFDRUhFbzBiZDBQMzNDOV9aMTd4dnRWLS03aWZYSEd4NXpqUk80WjR2LVJhUW1UQnJ3blhtclFIR0pEbGVoSWMtTVdxSG9Rdl93eFQwbk5MdVE0bEFWc1FmcE9PakpEMjVQX3FRSzVmUDVrWEVGQ1Y3M1lnSUo1Q29KZ3pnY2RndjRBZnRtbzhTd3JLa085UDVZcHM2dVNyU2JiMWJNSFF6T3ZFOA?oc=5",
    "published_at": "2026-01-23T02:32:30+00:00",
    "tickers": [
      "META"
    ],
    "raw_source": "https://news.google.com/rss/search?q=META+stock&hl=en-US&gl=US&ceid=US:en"
  },
  {
    "source": "google_news",
    "title": "Alphabet (GOOG) stock rises after Raymond James upgrade as judge keeps consumer antitrust case alive - TechStock²",
    "summary": "Alphabet (GOOG) stock rises after Raymond James upgrade as judge keeps consumer antitrust case alive&nbsp;&nbsp;TechStock²",
    "url": "https://news.google.com/rss/articles/CBMiuwFBVV95cUxPOUliYkYtYVpKdEpOR3MxU1ZTUkozWC1vWTVkaVZLUS1GZ05ab0p5NHo2aXU5SVR3czNBeWt1dHF0c1BtcDlEX1o3WUUxV2FOdlVJNG43VnV0R0NDT2tWR3hZS012eHpEWHlHN0MzT1V0d0MyYm53b2VkM2ZvcHNXMEl3bEtLTFdKaFFucnRIbFI2NXZNTUdURjlNVG9Dc0FoNS00V3RmRWNJQzJoSVp3V0sxeDJ2OThKZ1RV?oc=5",
    "published_at": "2026-01-22T22:18:19+00:00",
    "tickers": [
      "GOOG"
    ],
    "raw_source": "https://news.google.com/rss/search?q=GOOG+stock&hl=en-US&gl=US&ceid=US:en"
  },
  {
    "source": "google_news",
    "title": "AMD stock extends an eight-day streak, then slips after hours as traders eye earnings - TechStock²",
    "summary": "AMD stock extends an eight-day streak, then slips after hours as traders eye earnings&nbsp;&nbsp;TechStock²",
    "url": "https://news.google.com/rss/articles/CBMiqAFBVV95cUxOaHRHQTNoNW1Vd1g3a25wZkJ6TmFYc3VheFJBOVdoUFJGYlVzOF9DbzNycGcwb3BxR2I5enVQQW9SS2NCcTJEQnF5R2JxdjJhNVk0VTdobjNiWkNhQmpMQWliUjFOSk1neW1pb241eHMzcVkyWlh5TmRQRzkxdi1fTEl6SDVGNFdITHE4ME40eXdqZFZJZjkyWHpsZFBWOWRCbkthUTQzZTY?oc=5",
    "published_at": "2026-01-22T21:48:15+00:00",
    "tickers": [
      "AMD"
    ],
    "raw_source": "https://news.google.com/rss/search?q=AMD+stock&hl=en-US&gl=US&ceid=US:en"
  },
  {
    "source": "google_news",
    "title": "Assessing Invesco (IVZ) Valuation After RBC Capital’s Outperform Upgrade And QQQ ETF Earnings Tailwind - Yahoo Finance",
    "summary": "Assessing Invesco (IVZ) Valuation After RBC Capital’s Outperform Upgrade And QQQ ETF Earnings Tailwind&nbsp;&nbsp;Yahoo Finance",
    "url": "https://news.google.com/rss/articles/CBMiiAFBVV95cUxPYlA1MmxITmM3QTJVcmFLMTN6c2d5V0cySFFTNEFPWm5EOU44c2NGUGhYbTNZOXNoOThvMDFKaHpEVXpjTG5vNnNOZ2NER2E3c2J6YmVvalVQUjBuZHlsSEFnME5icnJteV9YWl9VWmo2dUxZTnVfSDdaVzhfemR4OE1ndHNNUmFE?oc=5",
    "published_at": "2026-01-22T21:14:23+00:00",
    "tickers": [
      "QQQ"
    ],
    "raw_source": "https://news.google.com/rss/search?q=QQQ+ETF&hl=en-US&gl=US&ceid=US:en"
  },
  {
    "source": "google_news",
    "title": "Guidance Update: Is CRDO stock a value trap - Earnings Miss & Precise Entry and Exit Recommendations - baoquankhu1.vn",
    "summary": "Guidance Update: Is CRDO stock a value trap - Earnings Miss & Precise Entry and Exit Recommendations&nbsp;&nbsp;baoquankhu1.vn",
    "url": "https://news.google.com/rss/articles/CBMikgFBVV95cUxPVzZYU0xFcll0Y0FTbG9FUjZKajRkYU1aSjVVQ2FGd2JCR0dyYXE3S0Zwd2tVc2gyZWV2d2tQRjg4c2tKOF9zRUtMa1VGbno0TTVwLXY2YVRhbGdRRmNLYlV6d0xNR0tldy1xeTlwT0dRYWZ5T041ZzdPN3hVLVE4Z0VEVVNOcHFtTlVsVDBWT21xdw?oc=5",
    "published_at": "2026-01-22T19:36:00+00:00",
    "tickers": [
      "CRDO"
    ],
    "raw_source": "https://news.google.com/rss/search?q=CRDO+stock&hl=en-US&gl=US&ceid=US:en"
  },
  {
    "source": "google_news",
    "title": "AppLovin stock falls again after short-seller report; APP investors eye Feb. 11 earnings - TechStock²",
    "summary": "AppLovin stock falls again after short-seller report; APP investors eye Feb. 11 earnings&nbsp;&nbsp;TechStock²",
    "url": "https://news.google.com/rss/articles/CBMiqwFBVV95cUxQVmhQRG5QRkZXS05wWVFGSnZrVm1TOEhhbXVCbXJkcGNxUXJNeVg0VEFhOHRjZ3A4SGlmUkRDT2hld2lTYUc0S0xCWDdWVmF4WmxYY0owZ2tlWlRhQzROclpCclJuOEszLXg0bGZTOEpGaW5mZ0lTUDZ2WDlFdWlYb3NITUVTUWllWG1hSjkwTm1CQnAyUmtQblJaOG5JNlRHWHY4NFNYckZXekU?oc=5",
    "published_at": "2026-01-22T16:39:21+00:00",
    "tickers": [
      "APP"
    ],
    "raw_source": "https://news.google.com/rss/search?q=APP+stock&hl=en-US&gl=US&ceid=US:en"
  },
  {
    "source": "google_news",
    "title": "Netflix Stock (NFLX) Opinions on Q4 2025 Earnings and Warner Bros. Deal - Quiver Quantitative",
    "summary": "Netflix Stock (NFLX) Opinions on Q4 2025 Earnings and Warner Bros. Deal&nbsp;&nbsp;Quiver Quantitative",
    "url": "https://news.google.com/rss/articles/CBMirAFBVV95cUxPNjRFM1hnLXZUM2dQak1IODg0VmN3ZnhfRjVyTTBpdURDTnhkWWFEazhtY1M5eFdhX3AwT0p5Rk5lMVlfeTF5VVR2dHlBOUJwcEdqZmRfS3FXRW8tZy01M3B2Q0NIc0RSS2piejFvUGdHTFJCYkpYdVkwcHFZa1BaYUtvQUZNbkVNTURLeGRZNjRDZFZIQmJSMGJYaHZINzUyUkdaQkFiZFZHUXNv?oc=5",
    "published_at": "2026-01-21T17:32:00+00:00",
    "tickers": [
      "NFLX"
    ],
    "raw_source": "https://news.google.com/rss/search?q=NFLX+stock&hl=en-US&gl=US&ceid=US:en"
  },
  {
    "source": "google_news",
    "title": "AAPL, AMZN and GOOG Forecast – Major Tech Stocks Await Earnings and Surf Headlines - FXEmpire",
    "summary": "AAPL, AMZN and GOOG Forecast – Major Tech Stocks Await Earnings and Surf Headlines&nbsp;&nbsp;FXEmpire",
    "url": "https://news.google.com/rss/articles/CBMiygFBVV95cUxOcmIxVmpMN0FoVTdDYnpPUVpsRXlUNmYxMUtxYWxlTzFKVVJ3V0tSWmN1dmgtdU9oQmY2Rk85ZWtfQ3Zfb3hEYWhVWXhKd3ZmdGtSdUJueExDLWlsMDBOQ1gxWHJWclR5NV9SdHM0bkw0OVgwempZd0EySnpuZHBGX0RpQm5xS1pUWjJPY2pnVE02RG5tRm5GeURndHdjclE1eHBuWEFrekkxOHF2ckpSSXVOZTJIM1RtdkxEQXl3LU1aeVlTYmZyREhR?oc=5",
    "published_at": "2026-01-21T13:57:00+00:00",
    "tickers": [
      "AAPL",
      "GOOG",
      "AMZN"
    ],
    "raw_source": "https://news.google.com/rss/search?q=GOOG+stock&hl=en-US&gl=US&ceid=US:en"
  }
]

TASK A — NEW POSITIONS:
- Decide whether to open any NEW positions based ONLY on the news provided.
- Generate at most ONE new trade.
- If there is no clear, asymmetric, event-driven opportunity, say "NO NEW TRADE".

TASK B — EXISTING POSITIONS REVIEW:
- For EACH existing position, decide exactly ONE action:
  HOLD, REDUCE, or EXIT.

STRICT RULES:
- Prefer HOLD over REDUCE, and REDUCE over EXIT.
- Do NOT short or reverse positions.
- Do NOT act on general market noise.
- Analyst opinions alone are weak signals.
- If position data is incomplete or uncertain, prefer HOLD.

OUTPUT FORMAT (VALID JSON ONLY):

{
  "new_trade":
    "NO NEW TRADE"
    OR
    {
      "ticker": "string",
      "event": "what specifically happened",
      "thesis": "why this creates an edge",
      "direction": "long",
      "confidence": number between 0 and 1,
      "holding_days": integer between 5 and 20,
      "entry": "market or specific condition",
      "stop_loss_pct": number between 5 and 12,
      "take_profit_pct": number between 15 and 25,
      "shares_to_buy": integer (compute using 1% risk rule and portfolio_value_usd from section 4),
      "invalid_if": "specific condition that invalidates the thesis"
    },

  "position_actions": [
    {
      "ticker": "string",
      "current_position": "long",
      "action": "HOLD | REDUCE | EXIT",
      "reason": "specific, event-based justification",
      "confidence": number between 0 and 1,
      "exit_rule_triggered": "NONE | HARD_STOP | ATR_STOP | TRAILING_STOP | PROFIT_TARGET | TIME_STOP"
    }
  ]
}

IMPORTANT:
- Output JSON only
- If no new trade exists, explicitly output "NO NEW TRADE"
- Fewer actions are better than more
- Inaction is a valid and often optimal outcome